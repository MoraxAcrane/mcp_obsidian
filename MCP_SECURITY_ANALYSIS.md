# üîê –ê–Ω–∞–ª–∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ Obsidian MCP Server

## üéØ –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏: **–í–´–°–û–ö–ê–Ø** ‚úÖ

**Enhanced Obsidian MCP Server —è–≤–ª—è–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** –ø—Ä–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ –±–∞–∑–æ–≤—ã—Ö –º–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏. –ù–∏–∂–µ –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –≤—Å–µ—Ö –∞—Å–ø–µ–∫—Ç–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

---

## üìã –ê–Ω–∞–ª–∏–∑ –æ–ø–µ—Ä–∞—Ü–∏–π —Å —Ñ–∞–π–ª–∞–º–∏

### **‚úÖ –ß–¢–û –î–ï–õ–ê–ï–¢ MCP –°–ï–†–í–ï–† (–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏):**

#### **1. –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤:**
```python
# –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ .md —Ñ–∞–π–ª–æ–≤ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π vault –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
content = note_path.read_text(encoding='utf-8')

‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û:
- –ß–∏—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã .md –≤ vault
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —è–≤–Ω—ã–µ –ø—É—Ç–∏ –±–µ–∑ '../' —ç—Å–∫–µ–π–ø–∏–Ω–≥–∞
- –ù–µ —á–∏—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã
- –ù–µ —á–∏—Ç–∞–µ—Ç —Ñ–∞–π–ª—ã –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ vault
```

#### **2. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫:**
```python
# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö .md —Ñ–∞–π–ª–æ–≤ —Ç–æ–ª—å–∫–æ –≤ vault
write_note_frontmatter(path, content, metadata)

‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û: 
- –°–æ–∑–¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ .md —Ñ–∞–π–ª—ã
- –¢–æ–ª—å–∫–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö vault –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Markdown —Ñ–æ—Ä–º–∞—Ç
```

#### **3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫:**
```python
# –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö .md —Ñ–∞–π–ª–æ–≤
path.write_text(new_content, encoding="utf-8")

‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û:
- –ò–∑–º–µ–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∑–∞–º–µ—Ç–∫–∏
- –ù–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ —á–µ—Ä–µ–∑ Obsidian
```

#### **4. –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–∞:**
```python
# SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ .obsidian/search_index.db
self.db_path = vault_path / ".obsidian" / "search_index.db"

‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û:
- –°–æ–∑–¥–∞–µ—Ç –±–∞–∑—É —Ç–æ–ª—å–∫–æ –≤ .obsidian –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- –ù–µ —Ö—Ä–∞–Ω–∏—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –¢–æ–ª—å–∫–æ –∏–Ω–¥–µ–∫—Å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (—Å–ª–æ–≤–∞, –ø–æ–∑–∏—Ü–∏–∏)
```

### **‚ùå –ß–¢–û –ù–ï –î–ï–õ–ê–ï–¢ MCP –°–ï–†–í–ï–† (–∏—Å–∫–ª—é—á–µ–Ω–Ω—ã–µ —Ä–∏—Å–∫–∏):**

- ‚ùå **–ù–µ —á–∏—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã** (passwd, registry, etc.)
- ‚ùå **–ù–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –û–°** (–Ω–µ—Ç subprocess, shell commands)
- ‚ùå **–ù–µ –¥–µ–ª–∞–µ—Ç —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã** (–Ω–µ—Ç HTTP –∫–ª–∏–µ–Ω—Ç–æ–≤)
- ‚ùå **–ù–µ –∏–∑–º–µ–Ω—è–µ—Ç —Ñ–∞–π–ª—ã –≤–Ω–µ vault** 
- ‚ùå **–ù–µ —É–¥–∞–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã**
- ‚ùå **–ù–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –ü–û**
- ‚ùå **–ù–µ –ø–æ–ª—É—á–∞–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∞–≤–∞**

---

## üõ°Ô∏è –ú–µ—Ö–∞–Ω–∏–∑–º—ã –∑–∞—â–∏—Ç—ã

### **1. –ò–∑–æ–ª—è—Ü–∏—è –ø—É—Ç–µ–π (Path Containment):**
```python
# –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã vault –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π
def note_path_for_title(vault_path: Path, title: str, folder: Optional[str] = None) -> Path:
    # –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π —Ñ–∞–π–ª–æ–≤
    safe_title = re.sub(r'[<>:"/\\|?*]', '_', title)
    
    # –ü—É—Ç—å –≤—Å–µ–≥–¥–∞ –≤–Ω—É—Ç—Ä–∏ vault  
    if folder:
        return vault_path / folder / f"{safe_title}.md"
    else:
        return vault_path / f"{safe_title}.md"

‚úÖ –ó–ê–©–ò–¢–ê: –ù–µ–≤–æ–∑–º–æ–∂–µ–Ω path traversal (../../../etc/passwd)
```

### **2. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:**
```python
# –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–º–µ—Ä—ã –∏ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞: —Ä–∞–∑—É–º–Ω—ã–µ –ø—Ä–µ–¥–µ–ª—ã
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ–ø–∞—Å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –≤ –∏–º–µ–Ω–∞—Ö —Ñ–∞–π–ª–æ–≤  
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤ (.md —Ç–æ–ª—å–∫–æ)
- –õ–∏–º–∏—Ç—ã –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (50 –¥–ª—è list_notes, 30 –¥–ª—è explore_notes)
```

### **3. –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ª–∏–º–∏—Ç—ã:**
```python
# –ó–∞—â–∏—Ç–∞ –æ—Ç DoS –∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏
MAX_NOTES = 50          # list_notes –ª–∏–º–∏—Ç
max_limit = 30          # explore_notes –ª–∏–º–∏—Ç  
max_chars = 300         # content preview –ª–∏–º–∏—Ç
timeout = reasonable    # —Ä–∞–∑—É–º–Ω—ã–µ —Ç–∞–π–º–∞—É—Ç—ã –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π
```

### **4. –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
```python
# SQLite –±–∞–∑–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏
CREATE TABLE content_index (
    term TEXT,              -- –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–ª–æ–≤–∞
    note_title TEXT,        -- –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏  
    frequency INTEGER,      -- –ß–∞—Å—Ç–æ—Ç–∞ —Å–ª–æ–≤–∞
    positions TEXT,         -- –ü–æ–∑–∏—Ü–∏–∏ –≤ —Ç–µ–∫—Å—Ç–µ
    context TEXT           -- –ö–æ–Ω—Ç–µ–∫—Å—Ç (heading/paragraph)
);

‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û: –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Ç–æ–ª—å–∫–æ –∏–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ–∏—Å–∫–∞
```

---

## üîí –ê–Ω–∞–ª–∏–∑ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö —Ä–∏—Å–∫–æ–≤

### **üü¢ –ù–ò–ó–ö–ò–ï –†–ò–°–ö–ò (—É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ):**

#### **1. –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ –∑–∞–º–µ—Ç–æ–∫:**
- **–†–∏—Å–∫**: –°–ª—É—á–∞–π–Ω–∞—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∑–∞–º–µ—Ç–∫–∏
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å**: –ù–∏–∑–∫–∞—è (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —è–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã update/create)
- **–ó–∞—â–∏—Ç–∞**: 
  - Obsidian –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏
  - Git version control (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
  - Atomic write –æ–ø–µ—Ä–∞—Ü–∏–∏

#### **2. –°–æ–∑–¥–∞–Ω–∏–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤:**
- **–†–∏—Å–∫**: –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ—Ç–µ–Ω –Ω–µ–Ω—É–∂–Ω—ã—Ö –∑–∞–º–µ—Ç–æ–∫
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å**: –ù–∏–∑–∫–∞—è (—Ç—Ä–µ–±—É–µ—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ create_note)
- **–ó–∞—â–∏—Ç–∞**:
  - –õ–∏–º–∏—Ç—ã –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–º–µ–Ω —Ñ–∞–π–ª–æ–≤
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Obsidian

#### **3. –ò–Ω–¥–µ–∫—Å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- **–†–∏—Å–∫**: –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–µ search_index.db
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å**: –û—á–µ–Ω—å –Ω–∏–∑–∫–∞—è
- **–ó–∞—â–∏—Ç–∞**:
  - –ë–∞–∑–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∞ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
  - –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏
  - SQLite –∂—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (WAL mode)

### **üü° –°–†–ï–î–ù–ò–ï –†–ò–°–ö–ò (—Ç—Ä–µ–±—É—é—Ç –≤–Ω–∏–º–∞–Ω–∏—è):**

#### **1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö vault:**
- **–†–∏—Å–∫**: –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ç—ã—Å—è—á–∞–º–∏ –∑–∞–º–µ—Ç–æ–∫
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å**: –°—Ä–µ–¥–Ω—è—è (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ vault)
- **–ó–∞—â–∏—Ç–∞**:
  - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ª–∏–º–∏—Ç—ã (50/30 –∑–∞–º–µ—Ç–æ–∫)
  - –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
  - Lazy loading –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

#### **2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞:**
- **–†–∏—Å–∫**: –ò–Ω–¥–µ–∫—Å–Ω–∞—è –±–∞–∑–∞ –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –±–æ–ª—å—à–æ–π  
- **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å**: –ù–∏–∑–∫–∞—è (–¥–ª—è –æ–±—ã—á–Ω—ã—Ö vault <50MB)
- **–ó–∞—â–∏—Ç–∞**:
  - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ –∏–Ω–¥–µ–∫—Å–∞
  - –°–∂–∞—Ç–∏–µ SQLite –±–∞–∑—ã
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–∞–∑–º–µ—Ä–∞

### **üî¥ –í–´–°–û–ö–ò–ï –†–ò–°–ö–ò (–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç):**

- ‚úÖ **–ù–µ—Ç —Ä–∏—Å–∫–æ–≤ —Å–∏—Å—Ç–µ–º–Ω–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**
- ‚úÖ **–ù–µ—Ç —Å–µ—Ç–µ–≤—ã—Ö —Ä–∏—Å–∫–æ–≤** 
- ‚úÖ **–ù–µ—Ç —Ä–∏—Å–∫–æ–≤ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤–Ω–µ vault**
- ‚úÖ **–ù–µ—Ç —Ä–∏—Å–∫–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞**

---

## üåê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Å–µ—Ç–µ–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

### **MCP Protocol Security:**

#### **‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã:**
```python
# 1. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ (stdio)
- MCP —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ
- –ù–µ—Ç –≤—Ö–æ–¥—è—â–∏—Ö —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –ù–µ—Ç –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å–µ—Ç–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

# 2. Structured communication
- JSON-RPC –ø—Ä–æ—Ç–æ–∫–æ–ª —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- –°—Ç—Ä–æ–≥–æ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–∞ –∏–Ω—ä–µ–∫—Ü–∏—è –∫–æ–º–∞–Ω–¥

# 3. Permission model
- MCP –∫–ª–∏–µ–Ω—Ç (Cursor) –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∫–∞–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤—ã–∑—ã–≤–∞—Ç—å
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
```

#### **‚ö†Ô∏è –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ SSE/HTTP —Ä–µ–∂–∏–º–æ–≤:**
```bash
# –í–ù–ò–ú–ê–ù–ò–ï: –°–µ—Ç–µ–≤—ã–µ —Ä–µ–∂–∏–º—ã —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ä –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
obsidian-ai-mcp --transport sse --port 8000

–†–∏—Å–∫–∏:
- –õ–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç –æ—Ç–∫—Ä—ã—Ç –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –ø—Ä–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

–ó–∞—â–∏—Ç–∞:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –≤ –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–π —Å–µ—Ç–∏
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall –ø—Ä–∞–≤–∏–ª–∞
- –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é
```

---

## üë• –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–ª—è –∫–æ–º–∞–Ω–¥—ã/–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

### **‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

#### **1. –õ–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ (–æ–¥–∏–Ω–æ—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å):**
```bash
‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∏—Å–∫–∏
- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏
- –õ–æ–∫–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
```

#### **2. –ö–æ–º–∞–Ω–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û —Å –º–µ—Ä–∞–º–∏ –ø—Ä–µ–¥–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—â–∏–π vault —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ—Å–µ–∫—Ä–µ—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ proper backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—é
- –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ read-only —Ä–µ–∂–∏–º—ã –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

#### **3. –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```bash
‚ö†Ô∏è –¢–†–ï–ë–£–ï–¢ –ê–£–î–ò–¢–ê:
- –ü—Ä–æ–≤–µ–¥–∏—Ç–µ security audit –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ monitoring –∏ logging
- –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º vault
- –†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ compliance —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è (GDPR, HIPAA, etc.)
```

---

## üîç –ê—É–¥–∏—Ç –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞

### **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∏ –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç—å:**
```python
‚úÖ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê:
- –í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ù–µ—Ç —Å–∫—Ä—ã—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏  
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- –ü–æ–Ω—è—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

‚úÖ –ú–û–ñ–ù–û –ü–†–û–í–ï–†–ò–¢–¨:
- –í—Å–µ —Ñ–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ utils/markdown_parser.py
- –í—Å–µ —Å–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (–∏—Ö –Ω–µ—Ç)
- –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –≤ smart_search.py
- –í—Å–µ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ server.py
```

### **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∞—É–¥–∏—Ç—É:**
```bash
# –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è security review:
1. src/obsidian_mcp/server.py          # –ì–ª–∞–≤–Ω—ã–µ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
2. src/obsidian_mcp/utils/vault.py     # –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
3. src/obsidian_mcp/smart_search.py    # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–∏
4. src/obsidian_mcp/utils/config.py    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø—É—Ç–∏

# –ß—Ç–æ –∏—Å–∫–∞—Ç—å:
- subprocess/os.system –≤—ã–∑–æ–≤—ã (–∏—Ö –Ω–µ—Ç)
- –°–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ requests/urllib (–∏—Ö –Ω–µ—Ç) 
- –û–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏ –≤–Ω–µ vault (–∏—Ö –Ω–µ—Ç)
- Path traversal —É—è–∑–≤–∏–º–æ—Å—Ç–∏ (–∑–∞—â–∏—â–µ–Ω—ã)
```

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏

### **MCP vs –¥—Ä—É–≥–∏–µ —Ä–µ—à–µ–Ω–∏—è:**

| –†–µ—à–µ–Ω–∏–µ | –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å | –ö–æ–Ω—Ç—Ä–æ–ª—å |
|---------|-------------|------------------|-----------|
| **MCP Server** | ‚úÖ –í—ã—Å–æ–∫–∞—è | ‚úÖ –†–∞—Å—à–∏—Ä—è–µ–º–∞—è | ‚úÖ –ü–æ–ª–Ω—ã–π |
| Obsidian API | ‚úÖ –í—ã—Å–æ–∫–∞—è | ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω—ã–π |
| Browser extensions | ‚ö†Ô∏è –°—Ä–µ–¥–Ω—è—è | ‚úÖ –®–∏—Ä–æ–∫–∞—è | ‚ùå –ù–∏–∑–∫–∏–π |
| Cloud services | ‚ùå –ù–∏–∑–∫–∞—è | ‚úÖ –®–∏—Ä–æ–∫–∞—è | ‚ùå –ù–µ—Ç |

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ MCP –ø–æ–¥—Ö–æ–¥–∞:**
- üîí **–õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –í—Å–µ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
- üîç **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –í–µ—Å—å –∫–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∞—É–¥–∏—Ç–∞
- ‚ö° **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ù–µ—Ç —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–¥–µ—Ä–∂–µ–∫
- üéõÔ∏è **–ö–æ–Ω—Ç—Ä–æ–ª—å**: –ü–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### **‚úÖ –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- [ ] –°–æ–∑–¥–∞–π—Ç–µ backup –≤–∞—à–µ–≥–æ Obsidian vault
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ –∫–æ–ø–∏–∏ vault, –Ω–µ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª–µ
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ vault_path –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É –≤–∞—Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Version Control (Git) –¥–ª—è vault (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### **‚úÖ –ü—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ:**
- [ ] –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ stdio —Ä–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Å–∞–º—ã–π –±–µ–∑–æ–ø–∞—Å–Ω—ã–π)
- [ ] –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ vault –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞–∑—É–º–Ω—ã–µ –ª–∏–º–∏—Ç—ã –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [ ] –ü—Ä–æ—á—Ç–∏—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ

### **‚úÖ –ü—Ä–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏:**
- [ ] –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–∞–∑–º–µ—Ä search_index.db
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö vault
- [ ] –î–µ–ª–∞–π—Ç–µ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ backup vault
- [ ] –û–±–Ω–æ–≤–ª—è–π—Ç–µ MCP server –¥–æ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏–π

### **üö® –ö—Ä–∞—Å–Ω—ã–µ —Ñ–ª–∞–≥–∏ (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ):**
- [ ] –ü–æ—è–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤–Ω–µ vault –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- [ ] –ù–µ–æ–±—ã—á–Ω–∞—è —Å–µ—Ç–µ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- [ ] –û—à–∏–±–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º —Ñ–∞–π–ª–∞–º  
- [ ] –ù–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ

---

## üèÜ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### **üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞:**

```
üîê –û–ë–©–ê–Ø –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨: 9/10 (–í–´–°–û–ö–ê–Ø)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚úÖ –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:    10/10      ‚îÇ
‚îÇ ‚úÖ –°–µ—Ç–µ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: 10/10      ‚îÇ  
‚îÇ ‚úÖ –ò–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:      10/10      ‚îÇ
‚îÇ ‚úÖ –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∫–æ–¥–∞:    10/10      ‚îÇ
‚îÇ ‚ö†Ô∏è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:    7/10      ‚îÇ
‚îÇ ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏–º–æ—Å—Ç—å:       9/10      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### **üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**

**Enhanced Obsidian MCP Server –ë–ï–ó–û–ü–ê–°–ï–ù –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:

- ‚úÖ **–õ–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è
- ‚úÖ **–ö–æ–º–∞–Ω–¥–Ω–∞—è —Ä–∞–±–æ—Ç–∞**: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Å backup —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π  
- ‚ö†Ô∏è **–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ—Å–ª–µ security –∞—É–¥–∏—Ç–∞
- ‚ùå **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**: –¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã

### **üîë –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–æ–±–ª—é–¥–µ–Ω—ã:**
1. **Principle of Least Privilege** - —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
2. **Defense in Depth** - –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∑–∞—â–∏—Ç–∞  
3. **Fail-Safe Defaults** - –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
4. **Transparency** - –æ—Ç–∫—Ä—ã—Ç—ã–π –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
5. **Recoverability** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**üöÄ MCP Server –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é!**
